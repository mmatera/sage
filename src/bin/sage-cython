#!/usr/bin/env python

# This script is a wrapper around the "cython" program.
# It was deprecated in Issue #27041 (Sage 8.7) because one should
# simply use "cython" directly. We display deprecation messages whenever
# "sage-cython" does something different from plain "cython".
#
# A stronger deprecation warning was added in #29923 (Sage 9.2).
#
# In Sage 10.3, the deprecated functionality is removed permanently.
# However, the script is un-deprecated and re-purposed as a temporary workaround
# for defects in Cython 3.0.x support for PEP 420 implicit namespace packages,
# see https://github.com/sagemath/sage/pull/36228
#
# This script can be used as a replacement for "cython".
# For example, to have meson use it, set the environment variable
# CYTHON to sage-cython./
# https://github.com/mesonbuild/meson/blob/e4bbc630b67ef97ad842badd00855e64cff12e13/mesonbuild/envconfig.py#L91

from sage.misc.package_dir import cython_namespace_package_support

# console scripts declared in https://github.com/cython/cython/blob/master/setup.py#L68
from Cython.Compiler.Main import setuptools_main

with cython_namespace_package_support():
     setuptools_main()
